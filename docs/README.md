# 🌲미션 - 크리스마스 이벤트

---

# 0점 방지

---

- [ ] 기능 구현을 모두 정상적으로 했더라도 **`요구 사항에 명시된 출력값 형식을 지키지 않을 경우 0점으로 처리`**한다.
- [ ] 기능 구현을 완료한 뒤 아래 가이드에 따라 테스트를 실행했을 때 모든 테스트가 성공하는지 확인한다.
- [ ] **`테스트가 실패할 경우 0점으로 처리`**되므로, 반드시 확인 후 제출한다.

## 요구 사항 정리

---

- [ ] 그냥 전체를 다 모듈화 할 수 있도록 하기
- [ ] class사용해서 모듈화 하기
  - [ ] ui class
  - [ ] 도메인 class
  - [ ] 동작 class
- [ ] 상수 모듈화
- [ ] 값을 `하드코딩` 하지 말고 상수를 만들고 부여해서 사용
- [ ] 기능 목록은 `목록을 정리`하는데 집중함
- [ ] 마크다운문법 검색해서 학습하고 readme에 적용하기
- [ ] 너무 상세히 하지는 안되, `기능 목록 및 예외사항은 정리`
- [ ] readme도 `업데이트`해가면서 한다
- [ ] 구현 순서도 코딩 컨벤션이다.
- [ ] 함수가 `한 가지` 기능만 담당하게 한다.
- [ ] 함수가 `15 라인` 넘어가면 안됨
- [ ] 작은 단위의 테스트하기
  - [ ] 도메인 단위 테스트 ui(입, 출력 제외)
- [ ] `package.json 변경 x`
- [ ] node index.js `실행 가능`해야함
- [ ] `else 지양`
- [ ] `switch case`사용 할 수 있을 때 사용해보기
- [ ] `클래스를 분리하는 연습` 더 분리해보기
- [ ] 필드 수(#)를 줄이기 위해 노력해야함

```jsx
class LottoResult {
   #result = new Map()
   #profitRate
   #totalPrize
}

위 객체의 profitRate와 totalPrize는 등수 별 당첨 내역(result)만 있어도
모두 구할 수 있는 값이다. 따라서 위 객체는 다음과 같이 하나의 필드만으로 구현할 수 있다.

class LottoResult {
   #result = new Map()

   calculateProfitRate() { ... }

   calculateTotalPrize() { ... }
}
```

- [ ] get으로 꺼내서 사용하지 않고 get을 가진 class에서 작동하고 return만 받게하기

```jsx
class Lotto {
   #numbers

   constructor(numbers) {
       this.#numbers = numbers
   }

   contains(number) {
       // 숫자가 포함되어 있는지 확인한다.
       return ...
   }

   matchCount(other) {
       // 당첨 번호와 몇 개가 일치하는지 확인한다.
       return ...
   }
}

class LottoGame {
   play() {
       const lotto = new Lotto(...)

       lotto.contains(number)
       lotto.matchCount(...)
   }
}
```

- [ ] 성공 말고 예외 케이스도 테스트하기
  - [ ] 테스트 코드도 리 팩터링하기
  - [ ] 테스트 코드에서만 돌아가는 코드 만들지 말기
  - [ ] 어려운 테스트는 분리해서 테스트해보기

## 🚀기능 요구 사항(순차적 리스트)

---

- [x] 입력이 정확하지 않을 시 `throw`를 던지고 재 입력을 받는다 `try catch`
- [x] 날짜 입력 받음
  - [x] 예외 처리
    - [x] 이상한 날짜일 시 `throw`
    - [x] `try catch`
  - [ ] 출력
- [ ] 메뉴 입력 받음
  - [ ] 예외 처리
    - [ ] 처음 받은 메뉴 `,` 을 통해 split 옳지 않은 형식이면 throw
    - [ ] 받은 메뉴 중 포함이 되어있지 않으면 throw
  - [ ] 메뉴 입력 받으면 2번의 split을 통해서 확인
  - [ ] 예외 처리 `throw` `try catch`로 다시 입력 받기
    - [ ] 메뉴에 없는 메뉴를 선택 시
    - [ ] 1 이상의 숫자를 입력하지 않을 시 ex) x ≤ 0
    - [ ] 숫자가 아닌 문자를 입력 시
    - [ ] 제대로 된 양식이 아닐 시
- [ ] 입력 받은 메뉴 계산 기능
  - [ ] 계산 금액 저장
  - [ ] 할인 금액 계산 기능
    - [ ] 할인 금액 저장
  - [ ] 할인 내역 저장
  - [ ] 전체 금액 - 할인 계산 기능
- [ ] 출력
  - [ ] 주문 메뉴
  - [ ] 할인 전 총 주문 금액
  - [ ] 증정 메뉴
  - [ ] 혜택 내역
    - [ ] 내용과 금액 출력 `-` 붙여서 출력
  - [ ] 총 혜택 금액
  - [ ] 할인 후 예상 결제 금액
  - [ ] 이벤트 배지

### [12월 이벤트 계획]

### [메뉴]

```
<애피타이저>
양송이수프(6,000), 타파스(5,500), 시저샐러드(8,000)

<메인>
티본스테이크(55,000), 바비큐립(54,000), 해산물파스타(35,000), 크리스마스파스타(25,000)

<디저트>
초코케이크(15,000), 아이스크림(5,000)

<음료>
제로콜라(3,000), 레드와인(60,000), 샴페인(25,000)

```

### [달력]

!https://github.com/kwoncha/javascript-christmas-6/raw/main/image.png

### 크리스마스 디데이 할인

- 이벤트 기간: `2023.12.1 ~ 2023.12.25`
- `1,000원`으로 시작하여 크리스마스가 다가올수록 날마다 할인 금액이 `100원씩 증가`
- 총주문 금액에서 해당 금액만큼 할인(e.g. 시작일인 12월 1일에 1,000원, 2일에 1,100원, ..., 25일엔 3,400원 할인)
  - [ ] 1000원에 추가적으로 계산해줘야 하는 기능 필요
  - [ ] 계산을 받아서 할인 적용하는 기능

### 다른 이벤트

- 이벤트 기간: '크리스마스 디데이 할인'을 제외한 다른 이벤트는 `2023.12.1 ~ 2023.12.31` 동안 적용
- 평일 할인(일요일~목요일): 평일에는 디저트 메뉴를 메뉴 1개당 2,023원 할인
  - [ ] 평일 할인에 `디저트 메뉴 1개당 2023원` 할인
- 주말 할인(금요일, 토요일): 주말에는 메인 메뉴를 메뉴 1개당 2,023원 할인
  - [ ] 주말 할인에 `메인 메뉴 1개당 2023원` 할인
- 특별 할인: 이벤트 달력에 별이 있으면 총주문 금액에서 1,000원 할인
  - [ ] 달력에 `별이 있으면 총 주문 금액에서 1000원` 할인
- 증정 이벤트: 할인 전 총주문 금액이 12만 원 이상일 때, 샴페인 1개 증정
  - [ ] 할인 `적용 전 총 주문 금액이 12만원 이상`일 시 샴페인 증정
  - [ ] 할인과 할인 전을 나눠서 계산해야함

### [혜택 금액에 따른 12월 이벤트 배지 부여]

- 총혜택 금액에 따라 다른 이벤트 배지를 부여합니다. 이 배지는 2024 새해 이벤트에서 활용할 예정입니다. 배지에 따라 새해 이벤트 참여 시, 각각 다른 새해 선물을 증정할 예정입니다.
- [ ] 할인 되는 가격에 따라서 배지 증정
  - 5천 원 이상: 별
  - 1만 원 이상: 트리
  - 2만 원 이상: 산타

### [고객에게 안내할 이벤트 주의 사항]

- [ ] 총주문 금액 10,000원 이상부터 이벤트가 적용됩니다.
- [ ] 음료만 주문 시, 주문할 수 없습니다.
- [ ] 메뉴는 한 번에 최대 20개까지만 주문할 수 있습니다.(e.g. 시저샐러드-1, 티본스테이크-1, 크리스마스파스타-1, 제로콜라-3, 아이스크림-1의 총개수는 7개)

### ['12월 이벤트 플래너' 개발 요청 사항]

- [ ] 고객들이 식당에 방문할 날짜와 메뉴를 미리 선택하면
- [ ] 이벤트 플래너가 주문 메뉴,
- [ ] 할인 전 총주문 금액,
- [ ] 증정 메뉴,
- [ ] 혜택 내역,
- [ ] 총혜택 금액,
- [ ] 할인 후 예상 결제 금액,
- [ ] 12월 이벤트 배지 내용을 보여주기를 기대합니다.
- [ ] 12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)
  - 방문할 날짜는 1 이상 31 이하의 숫자로만 입력받아 주세요.
  - 1 이상 31 이하의 숫자가 아닌 경우, "[ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요."라는 에러 메시지를 보여 주세요.
  - 모든 에러 메시지는 "[ERROR]"로 시작하도록 작성해 주세요.
- [ ] 주문하실 메뉴와 개수를 알려 주세요. (e.g. 해산물파스타-2,레드와인-1,초코케이크-1)
  - 고객이 메뉴판에 없는 메뉴를 입력하는 경우, "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."라는 에러 메시지를 보여 주세요.
  - 메뉴의 개수는 1 이상의 숫자만 입력되도록 해주세요. 이외의 입력값은 "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."라는 에러 메시지를 보여 주세요.
  - 메뉴 형식이 예시와 다른 경우, "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."라는 에러 메시지를 보여 주세요.
  - 중복 메뉴를 입력한 경우(e.g. 시저샐러드-1,시저샐러드-1), "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."라는 에러 메시지를 보여 주세요.
  - 모든 에러 메시지는 "[ERROR]"로 시작하도록 작성해 주세요.
- [ ] 주문 메뉴의 출력 순서는 자유롭게 출력해 주세요.
- [ ] 총혜택 금액에 따라 이벤트 배지의 이름을 다르게 보여 주세요.
- [ ] 총혜택 금액 = 할인 금액의 합계 + 증정 메뉴의 가격
- [ ] 할인 후 예상 결제 금액 = 할인 전 총주문 금액 - 할인 금액
- [ ] 증정 메뉴
  - 증정 이벤트에 해당하지 않는 경우, 증정 메뉴 "없음"으로 보여 주세요.
- [ ] 혜택 내역
  - 고객에게 적용된 이벤트 내역만 보여 주세요.
  - 적용된 이벤트가 하나도 없다면 혜택 내역 "없음"으로 보여 주세요.
  - 혜택 내역에 여러 개의 이벤트가 적용된 경우, 출력 순서는 자유롭게 출력해주세요.
- [ ] 이벤트 배지
  - 이벤트 배지가 부여되지 않는 경우, "없음"으로 보여 주세요.
- [ ] 적용된 이벤트가 하나도 없는 경우는 아래 예시를 참고해 주세요.

```
안녕하세요! 우테코 식당 12월 이벤트 플래너입니다.
12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)
26
주문하실 메뉴를 메뉴와 개수를 알려 주세요. (e.g. 해산물파스타-2,레드와인-1,초코케이크-1)
타파스-1,제로콜라-1
12월 26일에 우테코 식당에서 받을 이벤트 혜택 미리 보기!

<주문 메뉴>
타파스 1개
제로콜라 1개

<할인 전 총주문 금액>
8,500원

<증정 메뉴>
없음

<혜택 내역>
없음

<총혜택 금액>
0원

<할인 후 예상 결제 금액>
8,500원

<12월 이벤트 배지>
없음

```

### [기대하는 '12월 이벤트 플래너'의 예시 모습]

```
안녕하세요! 우테코 식당 12월 이벤트 플래너입니다.
12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)
3
주문하실 메뉴를 메뉴와 개수를 알려 주세요. (e.g. 해산물파스타-2,레드와인-1,초코케이크-1)
티본스테이크-1,바비큐립-1,초코케이크-2,제로콜라-1
12월 3일에 우테코 식당에서 받을 이벤트 혜택 미리 보기!

<주문 메뉴>
티본스테이크 1개
바비큐립 1개
초코케이크 2개
제로콜라 1개

<할인 전 총주문 금액>
142,000원

<증정 메뉴>
샴페인 1개

<혜택 내역>
크리스마스 디데이 할인: -1,200원
평일 할인: -4,046원
특별 할인: -1,000원
증정 이벤트: -25,000원

<총혜택 금액>
-31,246원

<할인 후 예상 결제 금액>
135,754원

<12월 이벤트 배지>
산타

```

- 이번 미션은 이메일 형식의 기능 요구 사항입니다. 문제를 구현하는 데 필요한 요구사항과 배경지식은 이메일 내용에 전부 담겨있으니, 꼼꼼하게 확인하고 필요하다면 주어진 문제의 내용을 통해 **유추하고 스스로 판단**해 구현해 주시면 됩니다. 문제의 모든 내용은 충분히 검토되었으며, 출제 의도를 담은 내용임을 알려드립니다.

보낸 사람: 비즈니스팀 <`biz@woowacourse.io`>

받는 사람: 개발팀 <`dev@woowacourse.io`>

제목: 12월 이벤트를 위한 개발 요청

안녕하세요. 비즈니스팀입니다!

다가오는 2023년 12월에 우테코 식당에서 1년 중 제일 큰 이벤트를 개최하려고 합니다.

12월을 위해 이벤트 예산을 넉넉히 확보해 두었으니, 예산은 걱정하지 마세요~

특별히 이번 12월 이벤트를 진행하기 위해서, 개발팀의 도움이 많이 필요합니다.

아래 메뉴와 달력 이미지를 보면서 12월 이벤트 계획과 요청 내용을 본격적으로 설명해 드릴게요.

### [이벤트 목표](필요 x)

1. 중복된 할인과 증정을 허용해서, 고객들이 혜택을 많이 받는다는 것을 체감할 수 있게 하는 것
2. 올해 12월에 지난 5년 중 최고의 판매 금액을 달성
3. 12월 이벤트 참여 고객의 5%가 내년 1월 새해 이벤트에 재참여하는 것

기대하는 예시를 한 개만 들어서 설명했지만, 더 다양한 사례가 있을 것으로 예상됩니다.

개발이 완료되는 대로 공유해 주시면, 비즈니스팀에서 1주일간 테스트를 진행하고 오픈할 예정입니다.

1주일 뒤에 예정된 '12월 이벤트 플래너' 개발 회의에서 더 자세한 얘기를 해보면 좋겠습니다.

감사합니다. :)
